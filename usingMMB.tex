%\section{Using the MMB}
This section introduces the menu of models, policy rules and options, which can be selected in the MMB 3.0. For the time being, this version of the MMB does not feature the option of  model-specific shocks, and does not allow for flexible selection of the states and gain parameters used in the simulations of adaptive learning models. We will reintroduce these features into the MMB in the next release. 
\subsection*{Models}
For the time being there are some models, which cannot be simulated with Octave. The list of models contains: NK\_ET14, NK\_FLMF18, NK\_GK11, US\_AJ16, US\_CMR14, US\_CMR14noFa, US\_FRB08, US\_FRB08mx, US\_IR15, EA\_Q14. The problems with the latter model exist only with Octave 4.4.0. We will adress these issues in the next release.

The user can select from the number of models displayed in the frontend, and from the number of policy rules. In contrast to earlier versions, the MMB 3.0 simultaneously allows for the selection of more than one policy rule and more than one model (the earlier versions either only allowed for one model, many rules or one rule, many models). 

\begin{figure}[H]
	\centering
	\caption{\textsc{Models and Rules Menu}}
	\vspace{0.2cm}
	\includegraphics[width=15cm,keepaspectratio]{frontend.png}\\
	\label{img:Models}
\end{figure}

The models are sorted in columns, the first of which contains model that have been calibrated to match a closed economy. The second column lists models that have been estimated on US data. The third column lists models that have been estimated on Euro area data. The column 'Other' contains models that have been either calibrated or estimated on multi-country data, or have been estimated on other countries, such as 'CA\_BMZ12', which has been estimated on Canadian data, or 'EAUS\_NAWM08', which has been estimated on Euro area and US data in a two-economy-setting. The column on the right contains models in which agents form their expectations via adaptive learning. \textbf{For the time being, until the options for the adaptive learning models are reintroduced into the MMB, all states are selected by default and the gain parameter is fixed to 0.01}. 


Hovering with the mouse over the models in the list and over the common policy rules displays some basic information such as the title, author and academic reference of the article, in which hte model was used. To search for models in the MMB, one can also use the search line on top of the menu. Here one can search for the name of the author or words that appear in the title of the articles, in which the models were used. For instance, searching for Gal{\'\i}, yields the results shown in Figure \ref{search}

\begin{figure}[H]
	\centering
	\caption{\textsc{Models Search: Gal{\'\i}}}
	\vspace{0.2cm}
	\includegraphics[width=15cm,keepaspectratio]{gali.png}\\
	\label{search}
\end{figure}

In addition, the user can download a complete list of all models currently used in the MMB on macromodelbase.com/downloads. Lastly, short descriptions of the models and their features are available on the same page. The menu of the MMB contains a direkt link to the model descriptions below the 'Compare' button as shown in Figure \ref{docmod}.
\begin{figure}[H]
	\centering
	\caption{\textsc{Model Documentation}}
	\vspace{0.2cm}
	\includegraphics[width=15cm,keepaspectratio]{documentmodels.png}\\
	\label{docmod}
\end{figure}

\subsection*{Monetary policy rules}
Currently, we consider nine monetary policy rules that are taken from Taylor (1993), Levin et al. (2003), Smets and Wouters (2007), among others. Next to these common rules that can (in principle) be used for all models, the selection menu also features the options model specific rule and user-specific rule. 
The model specific rules are taken from the original articles, in which the models were used. Not all models can be simulated with their model-specific rule, as all interest rate rules that can be used in the modelbase, have to be expressed in terms of the common variables. These common variables are the quarterly output gap, quarterly output, the year-on-year rate of inflation and the policy interest rate in annual terms. As some of the interest rate rules used in the literature feature responses to financial indicators, exchange rates, etc. these rules cannot be included in the modelbase. Therefore only 93 of the 128 models included in the MMB 3.0 feature a model-specific rule.

The user specific rule allows the user to directly determine the feedback coefficients in the interest rate rule. In order to do so, the user has to click on '(edit)' next to the entry 'User specific rule'. Then, the subwindow shown in figure \ref{userrule} opens. In this example, the coefficients for current and lagged inflation rates, as well as for the current output gap are chosen such as to mimic the pre-programmed Taylor rule. 
\begin{figure}[H]
	\centering
	\caption{\textsc{Model Documentation}}
	\vspace{0.2cm}
	\includegraphics[width=15cm,keepaspectratio]{userrule.png}\\
	\label{userrule}
\end{figure}
The user can edit the coefficients of the responses of the policy rates to the leads and lags of the variables in this submenu. However, it is not guaranteed that the Blanchard-Kahn conditions will hold and a determined equilibrium is obtained in the solution of the models with this rule. 

In general, when a model (or a rule) is chosen that is not compatible with a policy rule (or a model) in the way that a simulation of this model-rule-combination does not render the rational expectation equilibrium locally unique, the repective policy rule (or model) is faded out in the menu and cannot be selected for the comparison exercise. Unselecting the model (or rule), makes the rule (or model) again accessible for selection. 

\subsection*{Output options}

Having chosen the models and a policy rule, the user can make some non-exclusive choices regarding the exercise outcomes to be displayed. The user can decide whether to see the unconditional variances and plot autocorrelation functions of the common variables, both of which are computed using theoretical moments of the solution for each variable. Also the user can opt for plotting impulse response functions of the common variables and specify the horizon for the analysis that is set to twenty periods as a default. One can choose impulse responses to a unit monetary policy shock (one percent point increase in the monetary policy shock), and/or to a unit fiscal policy shock (one percent increase in GDP share of government expenditures). Note that all models of the Modelbase have a monetary policy shock, but a significant number of them do not have a fiscal policy shock. If this is the case, the impulse responses to a fiscal policy shock will not be available. Lastly, for certain models, the unconditional variances are not defined and the autocorrelation functions do not exist. This is the case for some models which feature unit roots. The presence of unit roots prevents a calculation of unconditional moments of some or all variables. Nonetheless, for these model IRFs can still be generated. 

\subsection*{Running a comparison exercise}
Once you have selected a number of models, rules and output options, you can simply run the comparison exercise by clicking on the button 'Compare'. If you have chosen to run your simulations using OCTAVE, the command window from OCTAVE will be embedded and you see the running output (see, Figure \ref{mmbsimul}). If you are using MATLAB, a second window opens, in which the simulations are displayed as in MATLAB's command window. This second window closes automatically when the simulations are done.
 
\begin{figure}[H]
	\centering
	\caption{\textsc{Model Simulation}}
	\vspace{0.2cm}
	\includegraphics[width=15cm,keepaspectratio]{mmbsimul.png}\\
	\label{mmbsimul}
\end{figure}

As a result, the selected Impulse response functions and  autocorrelation functions are plotted, and the variances are displayed in a table at the bottom of the frontend. The results of the comparison exercise can be exported and saved in two ways. Either, one exports all the data, by clicking on CSV or JSON above the figures to receive a batch export in the respective file format, or one can export the figures one by one, by clicking on the menu on the upper right corner of each figure. Both options are marked with red boxes in Figure \ref{export}
\begin{figure}[H]
	\centering
	\caption{\textsc{Export Options}}
	\vspace{0.2cm}
	\includegraphics[width=15cm,keepaspectratio]{export.png}\\
	\label{export}
\end{figure}
